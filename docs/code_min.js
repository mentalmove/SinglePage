(function(k,f,u,m){var o=[];var n=0;var r=[];function g(D){r[D][u]="section";if(D){r[D-1][u]=m}if((D+1)<r.length){r[D+1][u]=m}}var s=0;var q=-1;var A=32;var z=128;var j=256;function B(F){if(F){for(var D=(r.length-1);D>=0;D--){if((r[D].yy-s)<z){if(D==q){return}if(D==(r.length-1)){b(r.length)}g(D);if(q>=0){k.history.pushState("","Title",o[D])}q=D;n=x();return}}}else{if(q<=0||!n){return}var E=r[q];if((E.yy-s)>(n-j)){q--;g(q);k.history.pushState("","Title",o[q])}}}function i(){if(Math.abs(pageYOffset-s)<A){return}B((pageYOffset-s)>0);s=pageYOffset}function C(){var E;for(var D=r.length-1;D>=0;D--){E=l(r[D]);if(E==r[D].yy){return}r[D].yy=E}}function v(D){if(r.length<=o.length){console.log(o[r.length]+": "+D+", will be skipped");o.splice(r.length,1);b(r.length)}}function e(F,E,G){if(F.readyState==4&&(F.response||F.responseText)){var D=F.response||F.responseText;if(D.indexOf("<meta")==-1||(F.status&&F.status>=400)){v(F.statusText);return}E.innerHTML=D;G()}}function h(D,E,G){var F=new XMLHttpRequest();if(F.readyState==4||F.readyState==0){F.open("GET",D+"?random="+Math.ceil(Math.random()*998),true);F.onreadystatechange=function(){e(F,E,G)};F.send(null)}}var t="https://github.com/mentalmove/SinglePage/tree/";var p={step1:"Step1-WithoutJavascript",step2:"Step2-ValidHTML",step3:"Step3-IntroducingAJAX",step4:"Step4-GeneratedContent",step5:"Step5-EventControl",step6:"Step6-ElementPositions",step7:"Step7-ScrollDownPartI",step8:"Step8-ScrollDownPartII",step9:"Step9-ScrollUp"};function c(H,F){if(F>=o.length){return}var G=o[F].replace(/\.html/,"");if(!G||!p[G]){return}var E=document.createElement("header");E.style.marginTop="5px";var D=document.createElement("a");D.innerHTML="<br>View Branch on GitHub";D.href=t+p[G];E.appendChild(D);H.appendChild(E)}function y(E){var F=f.createElement("div");F.className=m;c(F,E);var D=f.createElement("div");D[u]="inner";F.appendChild(D);return D}function a(D){r.push(D);f.body.appendChild(D);D.yy=l(D);B(true)}function x(){if(k.innerHeight){return k.innerHeight}if(f.body&&f.body.clientHeight){return f.body.clientHeight}if(f.documentElement&&f.documentElement.clientHeight){return f.documentElement.clientHeight}var D=f.createElement("div");D.style.position="fixed";D.style.right="0px";D.style.bottom="0px";f.body.appendChild(D);var E=l(D);D.parentNode.removeChild(D);return E}function l(D){var F=D.offsetParent||f.body;var E=D.offsetTop;while(F){E+=F.offsetTop;F=F.offsetParent}return E}function b(D){if(D>=o.length){return}var E=y(D);h(o[D],E,function(){a(E.parentNode)})}function d(){var D=document.getElementsByClassName("inner")[0];a(D.parentNode)}function w(){o=arguments.callee.arguments;for(var D=0;D<o.length;D++){if(!o[D].match(/\.html$/)){o[D]=o[D]+".html"}}d();f.body.onscroll=i;setInterval(C,3456)}k.init=w})(window,document,"className","boring_grey");function demonstrate(){init("index","step1","step2","step3","step4","step5","step6","step7","step8","step9")};
